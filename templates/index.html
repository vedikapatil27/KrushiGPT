<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KrushiGPT</title>
  <link rel="stylesheet" href="static/css/style.css">
  <!-- Google Fonts - Using Inter as requested -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- SweetAlert2 for notifications -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="theme-dark">
  <!-- Hidden Google Translate Element -->
  <div id="google_translate_element"></div>

  <div class="app-container">
    <!-- Sidebar / Left Panel -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="logo" id="logo-btn">
          <span class="logo-icon">üåæ</span>
          <h1 class="logo-text">KrushiGPT</h1>
        </div>
        <button class="close-sidebar-btn" id="close-sidebar">
          <svg class="close-icon" viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>

      <nav class="sidebar-nav">
        <ul>
          <li class="active"><a href="#"><i class="fas fa-home"></i> Home</a></li>
        </ul>
      </nav>

      <div class="new-chat-btn-container">
        <button id="new-chat-btn" class="new-chat-btn">
          <i class="fas fa-plus"></i> New Chat
        </button>
      </div>

      <div class="recent-chats">
        <h3>Recent Chats</h3>
        <ul id="recent-chats-list">
          <li class="active"><i class="fas fa-comment"></i> New Chat</li>
          <!-- More chats will be added dynamically -->
        </ul>
      </div>

      <div class="language-selector">
        <label for="language-select">Language</label>
        <select id="language-select" onchange="changeLanguage(this.value)">
          <option value="en" selected>English</option>
          <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</option>
          <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)</option>
          <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)</option>
          <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)</option>
          <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
          <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
          <option value="fr">Fran√ßais (French)</option>
          <option value="es">Espa√±ol (Spanish)</option>
          <option value="de">Deutsch (German)</option>
          <option value="zh">‰∏≠Êñá (Chinese)</option>
          <option value="ja">Êó•Êú¨Ë™û (Japanese)</option>
          <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)</option>
        </select>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content" id="main-content">
      <!-- Top Header -->
      <header class="main-header">
        <button class="menu-toggle" id="menu-toggle">
          <i class="fas fa-bars"></i>
        </button>
        <div class="chat-title">
          <h2 id="current-chat-title" class="current-chat-title">New Chat</h2>
          <span class="status-indicator online"><i class="fas fa-circle"></i> Online</span>
        </div>
        <div class="header-actions">
          <!-- Add speaker icon button -->
          <button id="text-to-speech-btn" class="text-to-speech-btn" aria-label="Text to Speech" title="Text to Speech">
            <svg class="speaker-icon" viewBox="0 0 24 24" width="24" height="24">
              <path fill="currentColor" d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"/>
            </svg>
          </button>
          <button id="settings-btn" class="settings-btn" aria-label="Settings">
            <svg class="settings-icon" viewBox="0 0 24 24" width="24" height="24">
              <path fill="currentColor" d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
            </svg>
          </button>
        </div>
      </header>

      <!-- Chat Area -->
      <div class="chat-area notranslate" id="chat-box" translate="no">
        <!-- Chat messages will be added here dynamically -->
      </div>

      <!-- Input Area -->
      <div class="input-area">
        <div class="textarea-wrapper">
          <!-- Input Icons -->
          <div class="input-options">
            <div class="image-preview-input" id="input-image-preview">
              <img id="input-preview-img" src="/placeholder.svg" alt="Preview">
              <button class="remove-image-btn" id="remove-input-image">√ó</button>
              <div class="upload-progress" id="upload-progress">
                <svg class="progress-ring" width="24" height="24">
                  <circle class="progress-ring-circle" stroke="#4caf50" stroke-width="3" fill="transparent" r="10" cx="12" cy="12" />
                </svg>
              </div>
            </div>
            <button class="option-btn" id="upload-image-btn" title="Upload Image" data-tooltip="Upload Image">
              <i class="fas fa-image"></i>
            </button>
            <button class="option-btn" id="weather-btn" title="Check Weather" data-tooltip="Check Weather">
              <i class="fas fa-cloud-sun"></i>
            </button>
            <button class="option-btn voice-btn" id="voice-input-btn" title="Voice Input" data-tooltip="Voice Input">
              <div class="voice-indicator">
                <span class="voice-wave"></span>
                <span class="voice-wave"></span>
                <span class="voice-wave"></span>
              </div>
              <i class="fas fa-microphone"></i>
            </button>
          </div>
          <!-- Textarea -->
          <textarea id="user-input" placeholder="Ask your agriculture question..." rows="1"></textarea>
          <!-- Send Button -->
          <div class="action-buttons">
            <button id="send-btn" title="Send Message" data-tooltip="Send Message">
              <i class="fas fa-paper-plane"></i>
            </button>
            <button id="stop-btn" title="Stop Message" data-tooltip="Stop Message" class="hidden">
              <i class="fas fa-stop"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Image Upload Modal -->
      <div class="modal" id="image-upload-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Upload Image</h3>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="upload-area" id="upload-area">
              <i class="fas fa-cloud-upload-alt"></i>
              <p>Drag & drop an image or click to browse</p>
              <input type="file" id="image-input" accept="image/*">
            </div>
            <div class="image-preview" id="image-preview">
              <img id="preview-img" src="/placeholder.svg" alt="Preview">
            </div>
            <div class="upload-actions">
              <button class="cancel-upload">Cancel</button>
              <button class="confirm-upload" id="upload-btn">Upload & Analyze</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Weather Modal -->
      <div class="modal" id="weather-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Weather Information</h3>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="weather-search">
              <input type="text" id="weather-city" placeholder="Enter city name (e.g., Pune)">
              <button id="get-weather-btn">Get Weather</button>
            </div>
            <div class="weather-results" id="weather-results">
              <!-- Weather results will be displayed here -->
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Modal -->
      <div class="modal" id="settings-modal">
        <div class="modal-content settings-modal-content">
          <div class="modal-header">
            <h3>Settings</h3>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="settings-tabs">
              <button class="settings-tab active" data-tab="theme">Theme</button>
              <button class="settings-tab" data-tab="security">Security</button>
              <button class="settings-tab" data-tab="personalization">Personalization</button>
              <button class="settings-tab" data-tab="data">Data Controls</button>
            </div>
            
            <div class="settings-content active" id="theme-content">
              <div class="settings-section">
                <h4>Theme</h4>
                <div class="theme-options">
                  <button class="theme-btn" data-theme="light">
                    <i class="fas fa-sun"></i> Light
                  </button>
                  <button class="theme-btn active" data-theme="dark">
                    <i class="fas fa-moon"></i> Dark
                  </button>
                  <button class="theme-btn" data-theme="system">
                    <i class="fas fa-laptop"></i> System
                  </button>
                </div>
              </div>
              <div class="settings-section">
                <h4>Notifications</h4>
                <div class="setting-item toggle-setting">
                  <label for="sound-toggle">Sound Notifications</label>
                  <label class="switch">
                    <input type="checkbox" id="sound-toggle" checked>
                    <span class="slider round"></span>
                  </label>
                </div>
                <div class="setting-item toggle-setting">
                  <label for="weather-alerts">Weather Alerts</label>
                  <label class="switch">
                    <input type="checkbox" id="weather-alerts" checked>
                    <span class="slider round"></span>
                  </label>
                </div>
              </div>
            </div>
            
            <div class="settings-content" id="security-content">
              <div class="settings-section">
                <h4>Security Settings</h4>
                <div class="setting-item toggle-setting">
                  <label for="secure-connection">Secure Connection</label>
                  <label class="switch">
                    <input type="checkbox" id="secure-connection" checked>
                    <span class="slider round"></span>
                  </label>
                </div>
                <div class="setting-item toggle-setting">
                  <label for="auto-logout">Auto Logout (after 30 min inactivity)</label>
                  <label class="switch">
                    <input type="checkbox" id="auto-logout">
                    <span class="slider round"></span>
                  </label>
                </div>
                <div class="setting-item">
                  <label for="data-protection">Data Protection</label>
                  <div class="info-box">
                    <p>Your conversations are encrypted and stored securely. We do not share your data with third parties.</p>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="settings-content" id="personalization-content">
              <div class="settings-section">
                <h4>AI Personalization</h4>
                <div class="setting-item">
                  <label for="user-name">Your Name</label>
                  <input type="text" id="user-name" placeholder="Enter your name">
                </div>
                <div class="setting-item">
                  <label for="user-role">Your Role</label>
                  <select id="user-role">
                    <option value="farmer">Farmer</option>
                    <option value="agronomist">Agronomist</option>
                    <option value="researcher">Researcher</option>
                    <option value="student">Student</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div class="setting-item">
                  <label for="ai-tone">AI Tone</label>
                  <select id="ai-tone">
                    <option value="formal">Formal</option>
                    <option value="friendly" selected>Friendly</option>
                    <option value="technical">Technical</option>
                    <option value="educational">Educational</option>
                  </select>
                </div>
                <div class="setting-item">
                  <label for="personalization-template">Personalization Guidelines</label>
                  <textarea id="personalization-template" rows="4" placeholder="Specific traits or preferences for the AI to follow"></textarea>
                  <button id="fill-template" class="fill-template-btn">Fill Template</button>
                </div>
              </div>
            </div>
            
            <div class="settings-content" id="data-content">
              <div class="settings-section">
                <h4>Data Controls</h4>
                <div class="setting-item toggle-setting">
                  <label for="save-history">Save Chat History</label>
                  <label class="switch">
                    <input type="checkbox" id="save-history" checked>
                    <span class="slider round"></span>
                  </label>
                </div>
                <div class="setting-item toggle-setting">
                  <label for="save-images">Save Uploaded Images</label>
                  <label class="switch">
                    <input type="checkbox" id="save-images" checked>
                    <span class="slider round"></span>
                  </label>
                </div>
                <div class="setting-item toggle-setting">
                  <label for="personalized-suggestions">Allow Personalized Suggestions</label>
                  <label class="switch">
                    <input type="checkbox" id="personalized-suggestions" checked>
                    <span class="slider round"></span>
                  </label>
                </div>
                <div class="setting-item">
                  <button id="clear-data" class="danger-btn">Clear All My Data</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <script src="static/js/script.js"></script>
  

</body>
</html>